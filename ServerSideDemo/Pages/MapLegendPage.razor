@page "/map-legend"
@using GoogleMapsComponents
@using GoogleMapsComponents.Maps

<h1>Google Map Legend</h1>

<GoogleMap @ref="@map1" Id="map1" Options="@mapOptions" OnAfterInit="@AfterMapInit"></GoogleMap>
<select @bind="@controlPosition">
    @foreach(var pos in Enum.GetValues(typeof(ControlPosition)))
    {
        <option value="@pos">@pos.ToString()</option>
    }
</select> 
<button @onclick="AddLegend">Add Legend</button>
<button @onclick="RemoveLegend">Remove Legend</button>
<button @onclick="RemoveAllControls">Remove All Controls</button>

<div id="legend" @ref="@legendReference" style="visibility: hidden"><h3>Legend</h3></div>

<style>
    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        width: 100%;
    }

    #map {
        height: 400px;
        width: 100%;
    }

    #legend {
        font-family: Arial, sans-serif;
        background: #fff;
        padding: 10px;
        margin: 10px;
        border: 3px solid #000;
    }

        #legend h3 {
            margin-top: 0;
        }

        #legend img {
            vertical-align: middle;
        }
</style>